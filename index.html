<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AURAA - Your AI Companion</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap"
    rel="stylesheet"
  />
  <style>
    /* ===========================
       Root Variables & Themes
       =========================== */
    :root {
      --font-primary: "Montserrat", sans-serif;
      --font-secondary: "Poppins", sans-serif;
      --border-radius-main: 25px;
      --border-radius-msg: 18px;
      --shadow-elevation-low: 0 4px 6px -1px rgb(0 0 0 / 0.1),
        0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-elevation-medium: 0 10px 15px -3px rgb(0 0 0 / 0.1),
        0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-elevation-high: 0 20px 25px -5px rgb(0 0 0 / 0.1),
        0 8px 10px -6px rgb(0 0 0 / 0.1);
      --font-size-base: 16px;
    }

    /* Dark (AURAA) Theme */
    .theme-aura {
      --primary-color: #7b1fa2;
      --secondary-color: #00bcd4;
      --accent-glow: #ba68c8;
      --bg-color: #0d0d0d;
      --surface-color: #1a1a1a;
      --font-color: #e0e0e0;
      --muted-font-color: #9e9e9e;

      --user-msg-bg: linear-gradient(135deg, var(--primary-color) 0%, #4a148c 100%);
      --bot-msg-bg: #2b2b2b;
      --header-bg: linear-gradient(90deg, #42006e, #005663);

      --border-color: #333;
      --input-bg: #222;
      --input-border: #444;
      --send-button-color: var(--secondary-color);
      --send-button-hover: var(--primary-color);
      --button-bg: rgba(255, 255, 255, 0.1);
      --button-color: #e0e0e0;
      --button-hover-bg: rgba(255, 255, 255, 0.15);
      --modal-bg: rgba(0, 0, 0, 0.7);
      --modal-surface: #1a1a1a;
      --modal-font: #e0e0e0;
    }

    /* Light Theme Overrides */
    body.light-mode {
      --primary-color: #6200ea;
      --secondary-color: #03dac6;
      --accent-glow: #bb86fc;
      --bg-color: #f5f5f5;
      --surface-color: #ffffff;
      --font-color: #333333;
      --muted-font-color: #777777;

      --user-msg-bg: linear-gradient(135deg, #6200ea 0%, #3700b3 100%);
      --bot-msg-bg: #e0e0e0;
      --header-bg: #6200ea;

      --border-color: #cccccc;
      --input-bg: #ffffff;
      --input-border: #cccccc;
      --send-button-color: var(--secondary-color);
      --send-button-hover: var(--primary-color);
      --button-bg: rgba(0, 0, 0, 0.05);
      --button-color: #333333;
      --button-hover-bg: rgba(0, 0, 0, 0.1);
      --modal-bg: rgba(0, 0, 0, 0.5);
      --modal-surface: #ffffff;
      --modal-font: #333333;
    }

    /* ===========================
       Base Styles
       =========================== */
    body {
      font-family: var(--font-secondary);
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--font-color);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
      overflow: hidden;
      font-size: var(--font-size-base);
    }

    #chat-container {
      width: 95%;
      max-width: 700px;
      height: 90vh;
      max-height: 800px;
      background-color: var(--surface-color);
      border-radius: var(--border-radius-main);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4),
        inset 0 0 15px rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      position: relative;
    }

    /* ===========================
       Header & Navigation Buttons
       =========================== */
    #chat-header {
      background: var(--header-bg);
      color: white;
      padding: 15px 20px;
      font-family: var(--font-primary);
      font-size: 1.8em;
      font-weight: 700;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      z-index: 10;
      overflow: hidden;
      border-top-left-radius: var(--border-radius-main);
      border-top-right-radius: var(--border-radius-main);
    }

    #chat-header::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at top, var(--accent-glow) 0%, transparent 60%);
      opacity: 0.3;
      filter: blur(20px);
      z-index: -1;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .header-left img {
      width: 32px;
      height: 32px;
      object-fit: contain;
    }

    .header-nav {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .header-button {
      background: var(--button-bg);
      color: var(--button-color);
      border: none;
      padding: 8px 12px;
      border-radius: 12px;
      cursor: pointer;
      font-family: var(--font-secondary);
      font-size: 0.9em;
      transition: background 0.2s, transform 0.1s;
    }

    .header-button:hover {
      background: var(--button-hover-bg);
      transform: translateY(-1px);
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 42px;
      height: 22px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--input-border);
      transition: 0.3s;
      border-radius: 22px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 3px;
      bottom: 3px;
      background-color: var(--surface-color);
      transition: 0.3s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--secondary-color);
    }

    input:checked + .slider:before {
      transform: translateX(20px);
    }

    /* ===========================
       Chat Messages Area
       =========================== */
    #chat-messages {
      flex-grow: 1;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
      -webkit-overflow-scrolling: touch;
      padding-bottom: 30px;
    }

    #chat-messages::-webkit-scrollbar {
      width: 8px;
    }
    #chat-messages::-webkit-scrollbar-track {
      background: var(--surface-color);
      border-radius: 10px;
    }
    #chat-messages::-webkit-scrollbar-thumb {
      background: var(--primary-color);
      border-radius: 10px;
      border: 2px solid var(--surface-color);
    }
    #chat-messages::-webkit-scrollbar-thumb:hover {
      background: var(--secondary-color);
    }

    .message {
      padding: 14px 20px;
      border-radius: var(--border-radius-msg);
      max-width: 85%;
      line-height: 1.6;
      animation: fadeInMessage 0.6s ease-out forwards;
      position: relative;
      box-shadow: var(--shadow-elevation-low);
      word-wrap: break-word;
    }

    @keyframes fadeInMessage {
      from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .user-message {
      background: var(--user-msg-bg);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 5px;
      text-align: right;
    }

    .auraa-message {
      background-color: var(--bot-msg-bg);
      color: var(--font-color);
      align-self: flex-start;
      border-bottom-left-radius: 5px;
    }

    .message-timestamp {
      font-size: 0.75em;
      color: var(--muted-font-color);
      margin-top: 8px;
      display: block;
      opacity: 0.8;
      font-family: var(--font-secondary);
      font-weight: 300;
    }
    .user-message .message-timestamp {
      text-align: right;
    }
    .auraa-message .message-timestamp {
      text-align: left;
    }

    .typing-indicator {
      display: none;
      align-items: center;
      justify-content: flex-start;
      padding: 10px 20px;
      color: var(--muted-font-color);
      font-size: 0.9em;
      gap: 5px;
      margin-top: -10px;
    }
    .typing-indicator span {
      height: 8px;
      width: 8px;
      background-color: var(--secondary-color);
      border-radius: 50%;
      display: inline-block;
      margin: 0 2px;
      animation: bounce 1.4s infinite ease-in-out both;
      opacity: 0.7;
    }
    .typing-indicator span:nth-child(1) {
      animation-delay: -0.32s;
    }
    .typing-indicator span:nth-child(2) {
      animation-delay: -0.16s;
    }
    @keyframes bounce {
      0%,
      80%,
      100% {
        transform: scale(0);
        opacity: 0.7;
      }
      40% {
        transform: scale(1.0);
        opacity: 1;
      }
    }

    /* ===========================
       Input Area & Send Button
       =========================== */
    #input-area {
      display: flex;
      padding: 15px 20px;
      border-top: 1px solid var(--border-color);
      background-color: var(--surface-color);
      gap: 10px;
    }

    #user-input {
      flex-grow: 1;
      padding: 12px 20px;
      border: 1px solid var(--input-border);
      border-radius: 30px;
      font-size: 1em;
      background-color: var(--input-bg);
      color: var(--font-color);
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      font-family: var(--font-secondary);
    }
    #user-input::placeholder {
      color: var(--muted-font-color);
      opacity: 0.7;
    }
    #user-input:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(
        var(--primary-color-rgb, 123, 31, 162),
        0.3
      );
    }

    #send-button {
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      border: none;
      color: white;
      cursor: pointer;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      box-shadow: var(--shadow-elevation-low);
      flex-shrink: 0;
    }
    #send-button:hover {
      background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
      transform: translateY(-2px);
      box-shadow: var(--shadow-elevation-medium);
    }
    #send-button:active {
      transform: translateY(0);
      box-shadow: var(--shadow-elevation-low);
    }

    #send-button svg {
      width: 20px;
      height: 20px;
      fill: white;
      transition: fill 0.3s ease;
    }
    #send-button:hover svg {
      fill: #e0e0e0;
    }

    /* ===========================
       Responsive Adjustments
       =========================== */
    @media (max-width: 600px) {
      #chat-container {
        width: 100%;
        height: 100vh;
        max-height: none;
        border-radius: 0;
      }
      #chat-header {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        flex-wrap: wrap;
      }
      .header-nav {
        margin-top: 8px;
        gap: 6px;
      }
      #chat-messages {
        padding: 15px;
      }
      .message {
        max-width: 90%;
        padding: 12px 18px;
      }
      #input-area {
        padding: 10px 15px;
      }
      #user-input {
        padding: 10px 15px;
        font-size: 0.95em;
      }
      #send-button {
        width: 45px;
        height: 45px;
      }
    }

    /* ===========================
       Modal Styles
       =========================== */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--modal-bg);
      justify-content: center;
      align-items: center;
      z-index: 50;
    }
    .modal {
      background: var(--modal-surface);
      color: var(--modal-font);
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      padding: 20px;
      box-shadow: var(--shadow-elevation-high);
      animation: fadeInModal 0.3s ease-out forwards;
    }
    @keyframes fadeInModal {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .modal-header {
      font-size: 1.2em;
      font-weight: 600;
      margin-bottom: 10px;
      font-family: var(--font-primary);
    }
    .modal-content {
      font-size: 0.95em;
      line-height: 1.5;
      margin-bottom: 20px;
    }
    .close-modal {
      background: var(--button-bg);
      color: var(--button-color);
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-family: var(--font-secondary);
      font-size: 0.9em;
      transition: background 0.2s, transform 0.1s;
      float: right;
    }
    .close-modal:hover {
      background: var(--button-hover-bg);
      transform: translateY(-1px);
    }
  </style>
</head>
<body>
  <div id="chat-container" class="theme-aura">
    <!-- Header with Title and Buttons -->
    <div id="chat-header">
      <div class="header-left">
        <!-- Optional Logo or Icon -->
        <!-- <img src="logo.png" alt="Logo" /> -->
        <span>AURAA</span>
      </div>
      <div class="header-nav">
        <button class="header-button" id="info-btn">Info</button>
        <button class="header-button" id="signin-btn">Sign Up / Sign In</button>
        <button class="header-button" id="settings-btn">Settings</button>
        <label class="toggle-switch">
          <input type="checkbox" id="theme-toggle" />
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <!-- Chat Messages -->
    <div id="chat-messages">
      <div class="typing-indicator">
        <span></span><span></span><span></span>
      </div>
    </div>

    <!-- Input Area -->
    <div id="input-area">
      <input
        type="text"
        id="user-input"
        placeholder="Ask AURAA anything..."
      />
      <button id="send-button" title="Send">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"
          />
        </svg>
      </button>
    </div>
  </div>

  <!-- Modal Overlay for Info / SignIn / Settings -->
  <div id="modal-overlay" class="modal-overlay">
    <div class="modal">
      <div class="modal-header" id="modal-title"></div>
      <div class="modal-content" id="modal-content"></div>
      <button class="close-modal" id="close-modal">Close</button>
    </div>
  </div>

  <script>
    /* ===========================
       Element References
       =========================== */
    const chatMessages = document.getElementById("chat-messages");
    const userInputField = document.getElementById("user-input");
    const sendButton = document.getElementById("send-button");
    const typingIndicator = document.querySelector(".typing-indicator");
    const infoBtn = document.getElementById("info-btn");
    const signinBtn = document.getElementById("signin-btn");
    const settingsBtn = document.getElementById("settings-btn");
    const themeToggle = document.getElementById("theme-toggle");
    const modalOverlay = document.getElementById("modal-overlay");
    const modalTitle = document.getElementById("modal-title");
    const modalContent = document.getElementById("modal-content");
    const closeModalBtn = document.getElementById("close-modal");
    const chatContainer = document.getElementById("chat-container");

    /* ===========================
       Helper: Add Chat Message
       =========================== */
    function addMessage(text, sender) {
      const messageWrapper = document.createElement("div");
      messageWrapper.classList.add("message", `${sender}-message`);

      const textNode = document.createElement("div");
      textNode.innerHTML = text.replace(/\n/g, "<br>");
      messageWrapper.appendChild(textNode);

      const timestamp = document.createElement("div");
      timestamp.classList.add("message-timestamp");
      timestamp.textContent = new Date().toLocaleTimeString([], {
        hour: "2-digit",
        minute: "2-digit",
      });
      messageWrapper.appendChild(timestamp);

      chatMessages.insertBefore(messageWrapper, typingIndicator);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    /* ===========================
       Typing Indicator Controls
       =========================== */
    function showTyping() {
      typingIndicator.style.display = "flex";
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    function hideTyping() {
      typingIndicator.style.display = "none";
    }

    /* ===========================
       Fetch AURAA Response
       =========================== */
    async function getAuraaResponse(userInput) {
      const backendUrl = "https://auraa-sb-2007.onrender.com/ask-auraa";
      try {
        const response = await fetch(backendUrl, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt: userInput }),
        });
        if (!response.ok) {
          const errorData = await response.json();
          return `Error from server: ${errorData.response || "Could not connect."}`;
        }
        const data = await response.json();
        return data.response;
      } catch (error) {
        console.error("Connection Error:", error);
        return "I'm having trouble connecting to my core systems. Please ensure the backend server is running and the URL is correct.";
      }
    }

    /* ===========================
       Handle User Input (Chat)
       =========================== */
    async function handleUserInput() {
      const userInput = userInputField.value.trim();
      if (userInput === "") return;
      addMessage(userInput, "user");
      userInputField.value = "";
      showTyping();
      const auraaResponse = await getAuraaResponse(userInput);
      hideTyping();
      addMessage(auraaResponse, "auraa");
    }

    sendButton.addEventListener("click", handleUserInput);
    userInputField.addEventListener("keypress", (e) => {
      if (e.key === "Enter") handleUserInput();
    });

    /* ===========================
       On Window Load: Greeting
       =========================== */
    window.onload = () => {
      userInputField.focus();
      setTimeout(() => {
        addMessage("Hi, I'm AURAA made by Sarnab. What can I help you with?", "auraa");
      }, 500);
    };

    /* ===========================
       Modal Handling Logic
       =========================== */
    function openModal(title, content) {
      modalTitle.textContent = title;
      modalContent.innerHTML = content;
      modalOverlay.style.display = "flex";
    }

    function closeModal() {
      modalOverlay.style.display = "none";
    }

    closeModalBtn.addEventListener("click", closeModal);
    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) closeModal();
    });

    /* ===========================
       Info Button
       =========================== */
    infoBtn.addEventListener("click", () => {
      openModal(
        "About AURAA",
        `<p>AURAA is your intelligent AI companion, designed to help you with any question or task you have in mind. 
        Powered by advanced AI algorithms, AURAA can provide information, brainstorm ideas, and even chat about fun topics!</p>
        <p>Version: 2.0.1<br />Created by Sarnab<br />Release Date: June 1, 2025</p>`
      );
    });

    /* ===========================
 
